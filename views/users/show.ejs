<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>

<main>
  <h1>Inventories page for <%= selectedUser.username %></h1>
  <h2>Create an Inventory</h2>
  <form action="/inventories" method="post">
    <input type="text" name="name" placeholder="Name of Inventory">
    <button type="submit">Create</button>
  </form>
  <div>
    <h2>Owned Inventories</h2>
    <% selectedUser.ownedInventories.forEach(inventory => { %>
      <h3>
        <form action="/inventories/<%= inventory._id %>?_method=DELETE" method="POST">
          <a href="/inventories/<%= inventory._id %>">
            <div class="card">
              <div class="card-body">
                <h2 class="card-title"><%= inventory.name %> (<%= inventory.privateView ? "Private" : "Public" %>)</h2>                
              </div>
            </div>
          </a>
          <button class="remove-button" type="submit">X</button>
        </form>
      </h3>
    <% }) %>
  </div>
  <div>
    <h2>Managed Inventories</h2>
    <% selectedUser.managedInventories.forEach(inventory => { %>
      <h3>
        <a href="/inventories/<%= inventory._id %>">
          <div class="card">
            <div class="card-body">
              <h2 class="card-title"><%= inventory.name %></h2>
              <p>(<%= inventory.privateView ? "Private" : "Public" %>)</p>
            </div>
          </div>
        </a>
      </h3>
    <% }) %>
  </div>
</main>

<%- include('../partials/footer') %>
