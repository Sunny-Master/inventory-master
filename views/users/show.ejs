<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>

<main>
  <h1>Inventories page for <%= selectedUser.username %></h1>
  <h2>Create an Inventory</h2>
  <form action="/inventories" method="post">
    <input type="text" name="name" placeholder="Name of Inventory">
    <button type="submit">Create</button>
  </form>
  <h2>Owned Inventories</h2>
  <div class="card-container">
    <% selectedUser.ownedInventories.forEach(inventory => { %>
      <form action="/inventories/<%= inventory._id %>?_method=DELETE" method="POST">
        <a href="/inventories/<%= inventory._id %>">
          <div class="card">
            <div class="card-body">
              <h2 class="card-data"><%= inventory.name %></h2>
              <p>(<%= inventory.privateView ? "Private" : "Public" %>)</p>
            </div>
          </div>
        </a>
        <button class="remove-button" type="submit">X</button>
      </form>
    <% }) %>
  </div>
  <h2>Managed Inventories</h2>
  <div class="card-container">
    <% selectedUser.managedInventories.forEach(inventory => { %>
        <a href="/inventories/<%= inventory._id %>">
          <div class="card">
            <div class="card-body">
              <h2 class="card-data"><%= inventory.name %></h2>
              <p>(<%= inventory.privateView ? "Private" : "Public" %>)</p>
            </div>
          </div>
        </a>
    <% }) %>
  </div>
</main>

<%- include('../partials/footer') %>
